<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Sign In</title>
  <link rel="stylesheet" href="signIn.css">
</head>
<body align="center" onload="getInfo()">
  <h1 class="hed" align="center">Login to School Portal</h1>
  <form action="">
    <input class="inp" id="email" placeholder="Email" type="email">
  </form>
  <form action="">
    <input class="inp" id="password" placeholder="Password" type="password">
  </form>
  <button onclick="signIn()" class="but">Sign In</button>
  <p><a style="color:rgb(48, 138, 163); font-size:1.5em;" href="signup.html">Click if you don't have an account</a></p>
  <script>
    var myInfo = []
    function getInfo(){
      myInfo = JSON.parse(localStorage.getItem('registeredInfo'))
    }
    function signIn(){
      var eml = email.value;
      var pwd = password.value;
      var copyInfo = false
      for (let i = 0; i < myInfo.length; i++){
        if (eml == myInfo[i].em && pwd == myInfo[i].pWd){
          alert(`Welcome ${myInfo[i].ltName}`)
          email.value = '';
          password.value = '';
          copyInfo = true
          break
        }
        else if(eml == myInfo[i].em || pwd == myInfo[i].pWd){
          copyInfo = 'right'
        }
      }
      if (copyInfo == true){
        window.location.href = 'schoolDashboard.html';
      }
      else if(copyInfo == 'right'){
        alert('incorrect email or password')
      }
      else{
          alert('account does not exist')
      }
    }
  </script>
</body>
</html>